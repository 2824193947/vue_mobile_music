(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["SingerDetail"],{"10ce":function(t,e,n){"use strict";n.r(e);var a=n("7a23"),r=Object(a["O"])("data-v-2b656fd6");Object(a["x"])("data-v-2b656fd6");var c={class:"singer-detail"};Object(a["v"])();var s=r((function(t,e,n,r,s,i){var o=Object(a["C"])("music-list");return Object(a["u"])(),Object(a["h"])("div",c,[Object(a["j"])(o,{songs:s.songs,title:i.title,pic:i.pic,loading:s.loading},null,8,["songs","title","pic","loading"])])})),i=n("1da1"),o=(n("96cf"),n("b0c0"),n("335a")),l=n("aaef"),u=n("ae58"),b=n("4240"),f=n("5362"),g={name:"singer-detail",props:{singer:Object},data:function(){return{songs:[],loading:!0}},computed:{computedSinger:function(){var t=null,e=this.singer;if(e)t=e;else{var n=o["a"].session.get(l["f"]);n&&n.mid===this.$route.params.id&&(t=n)}return t},pic:function(){var t=this.computedSinger;return t&&t.pic},title:function(){var t=this.computedSinger;return t&&t.name}},created:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.computedSinger){e.next=4;break}return n=t.$route.matched[0].path,t.$router.push(n),e.abrupt("return");case 4:return e.next=6,Object(u["a"])(t.computedSinger);case 6:return a=e.sent,e.next=9,Object(b["b"])(a.songs);case 9:t.songs=e.sent,t.loading=!1;case 11:case"end":return e.stop()}}),e)})))()},components:{MusicList:f["a"]}};n("e104");g.render=s,g.__scopeId="data-v-2b656fd6";e["default"]=g},5362:function(t,e,n){"use strict";var a=n("7a23"),r=Object(a["O"])("data-v-07fe7f92");Object(a["x"])("data-v-07fe7f92");var c={class:"music-list"},s=Object(a["j"])("i",{class:"icon-back"},null,-1),i={class:"title"},o=Object(a["j"])("i",{class:"icon-play"},null,-1),l=Object(a["j"])("span",{class:"text"},"随机播放全部",-1),u={class:"song-list-wrapper"};Object(a["v"])();var b=r((function(t,e,n,b,f,g){var d=Object(a["C"])("song-list"),p=Object(a["C"])("scroll"),j=Object(a["D"])("loading"),m=Object(a["D"])("no-result");return Object(a["u"])(),Object(a["h"])("div",c,[Object(a["j"])("div",{class:"back",onClick:e[1]||(e[1]=function(){return g.goBack&&g.goBack.apply(g,arguments)})},[s]),Object(a["j"])("h1",i,Object(a["G"])(n.title),1),Object(a["j"])("div",{class:"bg-image",style:g.bgImageStyle,ref:"bgImage"},[Object(a["j"])("div",{class:"play-btn-wrapper",style:g.playBtnStyle},[Object(a["M"])(Object(a["j"])("div",{class:"play-btn",onClick:e[2]||(e[2]=function(){return g.random&&g.random.apply(g,arguments)})},[o,l],512),[[a["J"],n.songs.length>0]])],4),Object(a["j"])("div",{class:"filter",style:g.filterStyle},null,4)],4),Object(a["M"])(Object(a["j"])(p,{class:"list",style:g.scrollStyle,"probe-type":3,onScroll:g.onScroll},{default:r((function(){return[Object(a["j"])("div",u,[Object(a["j"])(d,{songs:n.songs,onSelect:g.selectItem,rank:n.rank},null,8,["songs","onSelect","rank"])])]})),_:1},8,["style","onScroll"]),[[j,n.loading],[m,g.onResult,n.noresultText]])])})),f=n("5530"),g=(n("99af"),n("a25b")),d=n("70d8"),p=n("5502"),j=40,m={name:"music-list",components:{SongList:g["a"],Scroll:d["a"]},props:{songs:{type:Array,default:function(){return[]}},title:String,pic:String,loading:Boolean,noresultText:{type:String,default:"抱歉,没有找到歌曲"},rank:Boolean},data:function(){return{imageHeight:0,scrollY:0,maxTranslateY:0}},computed:Object(f["a"])(Object(f["a"])({},Object(p["d"])(["playlist"])),{},{bgImageStyle:function(){var t=this.scrollY,e=0,n="70%",a=0,r=0;t>this.maxTranslateY&&(e=10,n=0,a="".concat(j,"px"),r=1);var c=1;return t<0&&(c=1+Math.abs(t/this.imageHeight)),{zIndex:e,paddingTop:n,height:a,backgroundImage:"url(".concat(this.pic,")"),transform:"scale(".concat(c,")translateZ(").concat(r,"px)")}},playBtnStyle:function(){var t="";return this.scrollY>=this.maxTranslateY&&(t="none"),{display:t}},scrollStyle:function(){var t=this.playlist.length?"60px":"0";return{top:"".concat(this.imageHeight,"px"),bottom:t}},filterStyle:function(){var t=0,e=this.scrollY,n=this.imageHeight;return e>=0&&(t=20*Math.min(this.maxTranslateY/n,e/n)),{backdropFilter:"blur(".concat(t,"px)")}},onResult:function(){return!this.loading&&!this.songs.length}}),mounted:function(){this.imageHeight=this.$refs.bgImage.clientHeight,this.maxTranslateY=this.imageHeight-j},methods:Object(f["a"])(Object(f["a"])({},Object(p["c"])(["selectPlay","randomPlay"])),{},{selectItem:function(t){t.song;var e=t.index;this.selectPlay({list:this.songs,index:e})},goBack:function(){this.$router.back()},onScroll:function(t){this.scrollY=-t.y},random:function(){this.randomPlay(this.songs)}})};n("eb32");m.render=b,m.__scopeId="data-v-07fe7f92";e["a"]=m},"70d8":function(t,e,n){"use strict";var a=n("1da1"),r=(n("96cf"),n("7a23")),c=n("bba4"),s=n("5502");e["a"]={name:"wrap-scroll",props:c["a"].props,emits:c["a"].emits,render:function(t){return Object(r["m"])(c["a"],Object(r["o"])({ref:"scrollRef"},t.$props,{onScroll:function(e){t.$emit("scroll",e)}}),{default:Object(r["L"])((function(){return[Object(r["B"])(t.$slots,"default")]}))})},setup:function(){var t=Object(r["z"])(null),e=Object(r["f"])((function(){return t.value.scroll})),n=Object(s["e"])(),c=Object(r["f"])((function(){return n.state.playlist}));return Object(r["K"])(c,Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(r["p"])();case 2:e.value.refresh();case 3:case"end":return t.stop()}}),t)})))),{scrollRef:t,scroll:e}}}},"80a6":function(t,e,n){},ae58:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return c}));var a=n("58ff");function r(){return Object(a["a"])("/api/getSingerList")}function c(t){return Object(a["a"])("/api/getSingerDetail",{mid:t.mid})}},e104:function(t,e,n){"use strict";n("80a6")},eb32:function(t,e,n){"use strict";n("fc70")},fc70:function(t,e,n){}}]);