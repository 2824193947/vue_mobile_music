(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Album"],{"04f0":function(t,e,n){"use strict";n.r(e);var a=n("7a23"),c=Object(a["O"])("data-v-4aea62bc");Object(a["x"])("data-v-4aea62bc");var r={class:"album"};Object(a["v"])();var s=c((function(t,e,n,c,s,i){var o=Object(a["C"])("music-list");return Object(a["u"])(),Object(a["h"])("div",r,[Object(a["j"])(o,{songs:t.songs,title:t.title,pic:t.pic,loading:t.loading},null,8,["songs","title","pic","loading"])])})),i=n("3524"),o=n("dc69"),l=n("aaef"),u=Object(i["a"])("album",l["a"],o["a"]);n("c17c");u.render=s,u.__scopeId="data-v-4aea62bc";e["default"]=u},3524:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var a=n("1da1"),c=(n("96cf"),n("b0c0"),n("5362")),r=n("335a"),s=n("4240");function i(t,e,n){return{name:t,components:{MusicList:c["a"]},props:{data:Object},data:function(){return{songs:[],loading:!0}},computed:{computedData:function(){var t=null,n=this.data;if(n)t=n;else{var a=r["a"].session.get(e);a&&(a.mid||a.id+"")===this.$route.params.id&&(t=a)}return t},pic:function(){var t=this.computedData;return t&&t.pic},title:function(){var t=this.computedData;return t&&(t.name||t.title)}},created:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var a,c,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=t.computedData,a){e.next=5;break}return c=t.$route.matched[0].path,t.$router.push({path:c}),e.abrupt("return");case 5:return e.next=7,n(a);case 7:return r=e.sent,e.next=10,Object(s["b"])(r.songs);case 10:t.songs=e.sent,t.loading=!1;case 12:case"end":return e.stop()}}),e)})))()}}}},5362:function(t,e,n){"use strict";var a=n("7a23"),c=Object(a["O"])("data-v-07fe7f92");Object(a["x"])("data-v-07fe7f92");var r={class:"music-list"},s=Object(a["j"])("i",{class:"icon-back"},null,-1),i={class:"title"},o=Object(a["j"])("i",{class:"icon-play"},null,-1),l=Object(a["j"])("span",{class:"text"},"随机播放全部",-1),u={class:"song-list-wrapper"};Object(a["v"])();var b=c((function(t,e,n,b,f,d){var p=Object(a["C"])("song-list"),g=Object(a["C"])("scroll"),j=Object(a["D"])("loading"),m=Object(a["D"])("no-result");return Object(a["u"])(),Object(a["h"])("div",r,[Object(a["j"])("div",{class:"back",onClick:e[1]||(e[1]=function(){return d.goBack&&d.goBack.apply(d,arguments)})},[s]),Object(a["j"])("h1",i,Object(a["G"])(n.title),1),Object(a["j"])("div",{class:"bg-image",style:d.bgImageStyle,ref:"bgImage"},[Object(a["j"])("div",{class:"play-btn-wrapper",style:d.playBtnStyle},[Object(a["M"])(Object(a["j"])("div",{class:"play-btn",onClick:e[2]||(e[2]=function(){return d.random&&d.random.apply(d,arguments)})},[o,l],512),[[a["J"],n.songs.length>0]])],4),Object(a["j"])("div",{class:"filter",style:d.filterStyle},null,4)],4),Object(a["M"])(Object(a["j"])(g,{class:"list",style:d.scrollStyle,"probe-type":3,onScroll:d.onScroll},{default:c((function(){return[Object(a["j"])("div",u,[Object(a["j"])(p,{songs:n.songs,onSelect:d.selectItem,rank:n.rank},null,8,["songs","onSelect","rank"])])]})),_:1},8,["style","onScroll"]),[[j,n.loading],[m,d.onResult,n.noresultText]])])})),f=n("5530"),d=(n("99af"),n("a25b")),p=n("70d8"),g=n("5502"),j=40,m={name:"music-list",components:{SongList:d["a"],Scroll:p["a"]},props:{songs:{type:Array,default:function(){return[]}},title:String,pic:String,loading:Boolean,noresultText:{type:String,default:"抱歉,没有找到歌曲"},rank:Boolean},data:function(){return{imageHeight:0,scrollY:0,maxTranslateY:0}},computed:Object(f["a"])(Object(f["a"])({},Object(g["d"])(["playlist"])),{},{bgImageStyle:function(){var t=this.scrollY,e=0,n="70%",a=0,c=0;t>this.maxTranslateY&&(e=10,n=0,a="".concat(j,"px"),c=1);var r=1;return t<0&&(r=1+Math.abs(t/this.imageHeight)),{zIndex:e,paddingTop:n,height:a,backgroundImage:"url(".concat(this.pic,")"),transform:"scale(".concat(r,")translateZ(").concat(c,"px)")}},playBtnStyle:function(){var t="";return this.scrollY>=this.maxTranslateY&&(t="none"),{display:t}},scrollStyle:function(){var t=this.playlist.length?"60px":"0";return{top:"".concat(this.imageHeight,"px"),bottom:t}},filterStyle:function(){var t=0,e=this.scrollY,n=this.imageHeight;return e>=0&&(t=20*Math.min(this.maxTranslateY/n,e/n)),{backdropFilter:"blur(".concat(t,"px)")}},onResult:function(){return!this.loading&&!this.songs.length}}),mounted:function(){this.imageHeight=this.$refs.bgImage.clientHeight,this.maxTranslateY=this.imageHeight-j},methods:Object(f["a"])(Object(f["a"])({},Object(g["c"])(["selectPlay","randomPlay"])),{},{selectItem:function(t){t.song;var e=t.index;this.selectPlay({list:this.songs,index:e})},goBack:function(){this.$router.back()},onScroll:function(t){this.scrollY=-t.y},random:function(){this.randomPlay(this.songs)}})};n("eb32");m.render=b,m.__scopeId="data-v-07fe7f92";e["a"]=m},5933:function(t,e,n){},"70d8":function(t,e,n){"use strict";var a=n("1da1"),c=(n("96cf"),n("7a23")),r=n("bba4"),s=n("5502");e["a"]={name:"wrap-scroll",props:r["a"].props,emits:r["a"].emits,render:function(t){return Object(c["m"])(r["a"],Object(c["o"])({ref:"scrollRef"},t.$props,{onScroll:function(e){t.$emit("scroll",e)}}),{default:Object(c["L"])((function(){return[Object(c["B"])(t.$slots,"default")]}))})},setup:function(){var t=Object(c["z"])(null),e=Object(c["f"])((function(){return t.value.scroll})),n=Object(s["e"])(),r=Object(c["f"])((function(){return n.state.playlist}));return Object(c["K"])(r,Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(c["p"])();case 2:e.value.refresh();case 3:case"end":return t.stop()}}),t)})))),{scrollRef:t,scroll:e}}}},c17c:function(t,e,n){"use strict";n("5933")},dc69:function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return r}));var a=n("58ff");function c(){return Object(a["a"])("api/getRecommend")}function r(t){return Object(a["a"])("api/getAlbum",{id:t.id})}},eb32:function(t,e,n){"use strict";n("fc70")},fc70:function(t,e,n){}}]);